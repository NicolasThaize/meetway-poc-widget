<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meetway Widget - PoC Covoiturage √âv√©nement Agnostique</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        .event-section {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .widget-section {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        
        h2 {
            color: #555;
            margin-bottom: 20px;
        }
        
        .demo-info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-left: 4px solid #2196f3;
        }
        
        .event-details {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .event-details h3 {
            margin-top: 0;
            color: #333;
        }
        
        .event-details p {
            margin: 8px 0;
            color: #666;
        }
        
        .detection-info {
            background: #fff3cd;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            border-left: 4px solid #ffc107;
        }
        
        .detection-info h4 {
            margin-top: 0;
            color: #856404;
        }
        
        .detection-info ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .detection-info li {
            margin: 5px 0;
            color: #856404;
        }
        
        .manual-data-section {
            background: #d4edda;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            border-left: 4px solid #28a745;
        }
        
        .manual-data-section h4 {
            margin-top: 0;
            color: #155724;
        }
        
        .config-section {
            background: #f8d7da;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            border-left: 4px solid #dc3545;
        }
        
        .config-section h4 {
            margin-top: 0;
            color: #721c24;
        }
        
        .user-info-section {
            background: #e2e3e5;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            border-left: 4px solid #6c757d;
        }
        
        .user-info-section h4 {
            margin-top: 0;
            color: #495057;
        }
        
        .hierarchy-section {
            background: #f0f8ff;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            border-left: 4px solid #0066cc;
        }
        
        .hierarchy-section h4 {
            margin-top: 0;
            color: #004085;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        
        .demo-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .demo-button:hover {
            background: #0056b3;
        }
        
        .demo-button.success {
            background: #28a745;
        }
        
        .demo-button.warning {
            background: #ffc107;
            color: #212529;
        }
        
        .demo-button.info {
            background: #17a2b8;
        }
        
        .demo-button.secondary {
            background: #6c757d;
        }
        
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <h1>Meetway Widget - Proof of Concept</h1>
    <h2 style="text-align: center; color: #666; margin-bottom: 30px;">Widget de Covoiturage √âv√©nement Agnostique</h2>
    
    <div class="container">
        <!-- Section √âv√©nement simul√© -->
        <div class="event-section">
            <h2>üé´ Page de Billetterie Simul√©e</h2>
            <div class="demo-info">
                <strong>üí° Simulation :</strong> Cette section simule une page de billetterie 
                avec des informations d'√©v√©nement et utilisateur. Le widget d√©tecte automatiquement ces informations.
            </div>
            
            <!-- Informations d'√©v√©nement qui seront d√©tect√©es automatiquement -->
            <div class="event-details">
                <h3 data-event-id="EVT-2024-001">Concert de Rock 2024</h3>
                <p><strong>Date :</strong> <span class="event-date" data-event-date="2024-06-15">Samedi 15 juin 2024 √† 20h00</span></p>
                <p><strong>Lieu :</strong> <span class="event-location" data-venue="Stade de France">Stade de France, Saint-Denis</span></p>
                <p><strong>Prix :</strong> <span class="event-price" data-ticket-price="50-120">50‚Ç¨ - 120‚Ç¨</span></p>
                <p><strong>Artistes :</strong> The Rock Band, Electric Guitars</p>
                <p><strong>Capacit√© :</strong> 80 000 places</p>
            </div>
            
            <!-- Informations utilisateur simul√©es dans le DOM -->
            <div class="user-info-section">
                <h4>üë§ Informations utilisateur simul√©es dans le DOM</h4>
                <p><strong>ID :</strong> <span data-user-id="USER-12345">USER-12345</span></p>
                <p><strong>Email :</strong> <span data-user-email="john.doe@example.com">john.doe@example.com</span></p>
                <p><strong>Nom :</strong> <span data-user-name="John Doe">John Doe</span></p>
                <p><strong>T√©l√©phone :</strong> <span data-user-phone="+33123456789">+33 1 23 45 67 89</span></p>
            </div>
            
            <div class="hierarchy-section">
                <h4>üîÑ Hi√©rarchie de r√©cup√©ration des donn√©es</h4>
                <p><strong>Pour les √©v√©nements ET utilisateurs :</strong></p>
                <ol>
                    <li><strong>Donn√©es manuelles</strong> (priorit√© maximale)</li>
                    <li><strong>localStorage</strong> (expiration : 1 jour pour √©v√©nements, 7 jours pour utilisateurs)</li>
                    <li><strong>Cookies</strong> (pr√©fixe Meetway_event_ et Meetway_)</li>
                    <li><strong>S√©lecteurs DOM</strong> (d√©tection automatique)</li>
                    <li><strong>Fallback</strong> (donn√©es minimales)</li>
                </ol>
            </div>
            
            <div class="detection-info">
                <h4>üîç D√©tection automatique</h4>
                <p>Le widget d√©tecte automatiquement les informations suivantes :</p>
                <ul>
                    <li><strong>Nom de l'√©v√©nement :</strong> Depuis les balises h1, h2, h3</li>
                    <li><strong>Date :</strong> Depuis les classes .event-date, .date, [datetime]</li>
                    <li><strong>Lieu :</strong> Depuis les classes .event-location, .location</li>
                    <li><strong>Prix :</strong> Depuis les classes .event-price, .price</li>
                    <li><strong>ID :</strong> Depuis [data-event-id], .event-id</li>
                    <li><strong>URL de la page :</strong> window.location.href</li>
                    <li><strong>Titre de la page :</strong> document.title</li>
                </ul>
            </div>
            
            <div class="manual-data-section">
                <h4>üéØ Fourniture manuelle des donn√©es</h4>
                <p>La billetterie peut fournir directement les donn√©es d'√©v√©nement et utilisateur via JavaScript :</p>
                <div class="button-group">
                    <button class="demo-button success" onclick="setManualEventData()">Fournir donn√©es √©v√©nement</button>
                    <button class="demo-button info" onclick="setManualUserData()">Fournir donn√©es utilisateur</button>
                    <button class="demo-button warning" onclick="updateEventData()">Mettre √† jour √©v√©nement</button>
                    <button class="demo-button" onclick="resetToAutoDetection()">Retour d√©tection auto</button>
                </div>
            </div>
            
            <div class="config-section">
                <h4>‚öôÔ∏è Configuration et tests</h4>
                <p>Ajoutez des s√©lecteurs personnalis√©s et testez les diff√©rentes sources :</p>
                <div class="button-group">
                    <button class="demo-button" onclick="addCustomSelectors()">Ajouter s√©lecteurs perso</button>
                    <button class="demo-button" onclick="showCurrentSelectors()">Voir s√©lecteurs actuels</button>
                    <button class="demo-button" onclick="testUserInfoRetrieval()">Tester r√©cup√©ration utilisateur</button>
                    <button class="demo-button secondary" onclick="testEventInfoRetrieval()">Tester r√©cup√©ration √©v√©nement</button>
                    <button class="demo-button secondary" onclick="testLocalStorage()">Tester localStorage</button>
                    <button class="demo-button secondary" onclick="testCookies()">Tester cookies</button>
                </div>
            </div>
        </div>
        
        <!-- Section Widget -->
        <div class="widget-section">
            <h2>üöó Widget Meetway</h2>
            <div class="demo-info">
                <strong>üéØ Widget simplifi√© :</strong> Le widget affiche seulement "Meetway", 
                la proposition de valeur du covoiturage et la checkbox d'int√©r√™t.
            </div>
            
            <!-- Conteneur du widget -->
            <div id="Meetway-widget-container"></div>
            
            <div class="demo-info">
                <strong>üìä Informations d'√©v√©nement d√©tect√©es :</strong> 
                <div id="detected-info" style="margin-top: 10px; font-family: monospace; font-size: 12px; background: #f8f9fa; padding: 10px; border-radius: 4px;"></div>
            </div>
            
            <div class="demo-info">
                <strong>üë§ Informations utilisateur :</strong> 
                <div id="user-info" style="margin-top: 10px; font-family: monospace; font-size: 12px; background: #f8f9fa; padding: 10px; border-radius: 4px;"></div>
            </div>
        </div>
    </div>

    <!-- Int√©gration du widget JavaScript -->
    <script src="config.js"></script>
    <script src="widget.js"></script>
    <script>
        // Variables globales pour la d√©monstration
        let currentMode = 'auto'; // 'auto' ou 'manual'
        
        // Initialisation du widget √©v√©nement agnostique
        document.addEventListener('DOMContentLoaded', async function() {
            // Initialisation du widget avec d√©tection automatique
            await MeetwayWidget.init({
                containerId: 'Meetway-widget-container',
                widgetTitle: 'Meetway',
                carpoolValue: 'Partagez votre trajet et √©conomisez sur vos d√©placements !',
                onCarpoolInterest: function(isInterested, eventInfo, userInfo) {
                    console.log('üöó Int√©r√™t covoiturage:', isInterested);
                    console.log('üìã Informations d\'√©v√©nement:', eventInfo);
                    console.log('üë§ Informations utilisateur:', userInfo);
                    
                    // Affichage des informations d√©tect√©es
                    updateDetectedInfoDisplay(eventInfo);
                    updateUserInfoDisplay(userInfo);
                    
                    // Ici, vous pouvez ajouter l'appel API pour enregistrer l'int√©r√™t
                    // Exemple: apiCall('/carpool-interest', { 
                    //     interested: isInterested, 
                    //     eventInfo: eventInfo,
                    //     userInfo: userInfo
                    // });
                }
            });
            
            // Affichage initial des informations d√©tect√©es
            setTimeout(() => {
                const eventInfo = MeetwayWidget.getDetectedEventInfo();
                const userInfo = MeetwayWidget.getUserInfo();
                updateDetectedInfoDisplay(eventInfo);
                updateUserInfoDisplay(userInfo);
            }, 100);
        });
        
        // Fonction pour afficher les informations d√©tect√©es
        function updateDetectedInfoDisplay(eventInfo) {
            const detectedInfoDiv = document.getElementById('detected-info');
            if (detectedInfoDiv) {
                detectedInfoDiv.innerHTML = `
                    <strong>Mode :</strong> ${currentMode}<br>
                    <strong>Source :</strong> ${eventInfo.source || 'Non d√©tect√©'}<br>
                    <strong>Nom :</strong> ${eventInfo.name || 'Non d√©tect√©'}<br>
                    <strong>Date :</strong> ${eventInfo.date || 'Non d√©tect√©'}<br>
                    <strong>Lieu :</strong> ${eventInfo.location || 'Non d√©tect√©'}<br>
                    <strong>Prix :</strong> ${eventInfo.price || 'Non d√©tect√©'}<br>
                    <strong>ID :</strong> ${eventInfo.id || 'Non d√©tect√©'}<br>
                    <strong>URL :</strong> ${eventInfo.url}<br>
                    <strong>Titre page :</strong> ${eventInfo.pageTitle}<br>
                    <strong>Timestamp :</strong> ${eventInfo.timestamp || 'Non d√©tect√©'}
                `;
            }
        }
        
        // Fonction pour afficher les informations utilisateur
        function updateUserInfoDisplay(userInfo) {
            const userInfoDiv = document.getElementById('user-info');
            if (userInfoDiv) {
                userInfoDiv.innerHTML = `
                    <strong>Source :</strong> ${userInfo.source || 'Non d√©tect√©'}<br>
                    <strong>ID :</strong> ${userInfo.id || 'Non d√©tect√©'}<br>
                    <strong>Email :</strong> ${userInfo.email || 'Non d√©tect√©'}<br>
                    <strong>Nom :</strong> ${userInfo.name || 'Non d√©tect√©'}<br>
                    <strong>T√©l√©phone :</strong> ${userInfo.phone || 'Non d√©tect√©'}<br>
                    <strong>Timestamp :</strong> ${userInfo.timestamp || 'Non d√©tect√©'}
                `;
            }
        }
        
        // Fonction pour fournir des donn√©es d'√©v√©nement manuellement
        function setManualEventData() {
            const manualData = {
                name: 'Concert de Rock 2024 (Donn√©es manuelles)',
                date: '2024-06-15T20:00:00',
                location: 'Stade de France, Saint-Denis',
                price: '50‚Ç¨ - 120‚Ç¨',
                id: 'EVT-2024-001-MANUAL',
                url: window.location.href,
                pageTitle: document.title
            };
            
            // R√©initialiser le widget avec les donn√©es manuelles
            MeetwayWidget.init({
                containerId: 'Meetway-widget-container',
                widgetTitle: 'Meetway',
                carpoolValue: 'Partagez votre trajet et √©conomisez sur vos d√©placements !',
                eventData: manualData,
                onCarpoolInterest: function(isInterested, eventInfo, userInfo) {
                    console.log('üöó Int√©r√™t covoiturage (manuel):', isInterested);
                    console.log('üìã Informations d\'√©v√©nement (manuel):', eventInfo);
                    console.log('üë§ Informations utilisateur:', userInfo);
                    updateDetectedInfoDisplay(eventInfo);
                    updateUserInfoDisplay(userInfo);
                }
            });
            
            currentMode = 'manual';
            console.log('‚úÖ Donn√©es d\'√©v√©nement fournies manuellement');
        }
        
        // Fonction pour fournir des donn√©es utilisateur manuellement
        function setManualUserData() {
            const manualUserData = {
                id: 'USER-MANUAL-001',
                email: 'user.manual@example.com',
                name: 'Utilisateur Manuel',
                phone: '+33123456789'
            };
            
            // R√©initialiser le widget avec les donn√©es utilisateur manuelles
            MeetwayWidget.init({
                containerId: 'Meetway-widget-container',
                widgetTitle: 'Meetway',
                carpoolValue: 'Partagez votre trajet et √©conomisez sur vos d√©placements !',
                userData: manualUserData,
                onCarpoolInterest: function(isInterested, eventInfo, userInfo) {
                    console.log('üöó Int√©r√™t covoiturage:', isInterested);
                    console.log('üìã Informations d\'√©v√©nement:', eventInfo);
                    console.log('üë§ Informations utilisateur (manuel):', userInfo);
                    updateDetectedInfoDisplay(eventInfo);
                    updateUserInfoDisplay(userInfo);
                }
            });
            
            currentMode = 'manual-user';
            console.log('‚úÖ Donn√©es utilisateur fournies manuellement');
        }
        
        // Fonction pour mettre √† jour les donn√©es
        function updateEventData() {
            const updatedData = {
                name: 'Concert de Rock 2024 (Mis √† jour)',
                price: '45‚Ç¨ - 110‚Ç¨ (Prix r√©duit !)',
                date: '2024-06-15T21:00:00'
            };
            
            MeetwayWidget.updateEventData(updatedData);
            currentMode = 'manual-updated';
            
            const eventInfo = MeetwayWidget.getDetectedEventInfo();
            updateDetectedInfoDisplay(eventInfo);
            
            console.log('‚úÖ Donn√©es d\'√©v√©nement mises √† jour');
        }
        
        // Fonction pour revenir √† la d√©tection automatique
        function resetToAutoDetection() {
            MeetwayWidget.init({
                containerId: 'Meetway-widget-container',
                widgetTitle: 'Meetway',
                carpoolValue: 'Partagez votre trajet et √©conomisez sur vos d√©placements !',
                autoDetectEventInfo: true,
                onCarpoolInterest: function(isInterested, eventInfo, userInfo) {
                    console.log('üöó Int√©r√™t covoiturage (auto):', isInterested);
                    console.log('üìã Informations d\'√©v√©nement (auto):', eventInfo);
                    console.log('üë§ Informations utilisateur (auto):', userInfo);
                    updateDetectedInfoDisplay(eventInfo);
                    updateUserInfoDisplay(userInfo);
                }
            });
            
            currentMode = 'auto';
            
            setTimeout(() => {
                const eventInfo = MeetwayWidget.getDetectedEventInfo();
                const userInfo = MeetwayWidget.getUserInfo();
                updateDetectedInfoDisplay(eventInfo);
                updateUserInfoDisplay(userInfo);
            }, 100);
            
            console.log('‚úÖ Retour √† la d√©tection automatique');
        }
        
        // Fonction pour ajouter des s√©lecteurs personnalis√©s
        function addCustomSelectors() {
            // Ajouter des s√©lecteurs personnalis√©s
            addEventSelector('name', '.my-custom-event-name');
            addEventSelector('name', '[data-my-event-title]');
            addEventSelector('date', '.my-custom-date');
            addEventSelector('location', '.my-custom-venue');
            addEventSelector('price', '.my-custom-price');
            addEventSelector('id', '.my-custom-event-id');
            
            console.log('‚úÖ S√©lecteurs personnalis√©s ajout√©s');
            alert('S√©lecteurs personnalis√©s ajout√©s ! V√©rifiez la console pour plus de d√©tails.');
        }
        
        // Fonction pour afficher les s√©lecteurs actuels
        function showCurrentSelectors() {
            const nameSelectors = getEventSelectors('name');
            const dateSelectors = getEventSelectors('date');
            const locationSelectors = getEventSelectors('location');
            const priceSelectors = getEventSelectors('price');
            const idSelectors = getEventSelectors('id');
            
            console.log('üìã S√©lecteurs actuels :');
            console.log('Nom:', nameSelectors);
            console.log('Date:', dateSelectors);
            console.log('Lieu:', locationSelectors);
            console.log('Prix:', priceSelectors);
            console.log('ID:', idSelectors);
            
            alert('S√©lecteurs affich√©s dans la console !');
        }
        
        // Fonction pour tester la r√©cup√©ration des informations utilisateur
        function testUserInfoRetrieval() {
            console.log('üß™ Test de r√©cup√©ration des informations utilisateur...');
            
            // Simuler des donn√©es dans localStorage
            const testUserData = {
                id: 'USER-TEST-001',
                email: 'test.user@example.com',
                name: 'Utilisateur Test',
                phone: '+33987654321',
                timestamp: new Date().toISOString()
            };
            
            localStorage.setItem('Meetway_user_info', JSON.stringify(testUserData));
            console.log('üíæ Donn√©es utilisateur de test sauvegard√©es dans localStorage');
            
            // R√©initialiser le widget pour tester la r√©cup√©ration
            MeetwayWidget.init({
                containerId: 'Meetway-widget-container',
                widgetTitle: 'Meetway',
                carpoolValue: 'Test de r√©cup√©ration utilisateur...',
                onCarpoolInterest: function(isInterested, eventInfo, userInfo) {
                    console.log('üöó Test r√©cup√©ration utilisateur:', userInfo);
                    updateUserInfoDisplay(userInfo);
                }
            });
            
            setTimeout(() => {
                const userInfo = MeetwayWidget.getUserInfo();
                updateUserInfoDisplay(userInfo);
            }, 100);
            
            alert('Test de r√©cup√©ration utilisateur lanc√© ! V√©rifiez la console et l\'affichage.');
        }
        
        // Fonction pour tester la r√©cup√©ration des informations d'√©v√©nement
        function testEventInfoRetrieval() {
            console.log('üß™ Test de r√©cup√©ration des informations d\'√©v√©nement...');
            
            // Simuler des donn√©es dans localStorage
            const testEventData = {
                name: '√âv√©nement Test localStorage',
                date: '2024-12-25T19:00:00',
                location: 'Salle de Test',
                price: '25‚Ç¨',
                id: 'EVT-TEST-001',
                url: window.location.href,
                pageTitle: document.title,
                timestamp: new Date().toISOString()
            };
            
            localStorage.setItem('Meetway_event_info', JSON.stringify(testEventData));
            console.log('üíæ Donn√©es √©v√©nement de test sauvegard√©es dans localStorage');
            
            // R√©initialiser le widget pour tester la r√©cup√©ration
            MeetwayWidget.init({
                containerId: 'Meetway-widget-container',
                widgetTitle: 'Meetway',
                carpoolValue: 'Test de r√©cup√©ration √©v√©nement...',
                onCarpoolInterest: function(isInterested, eventInfo, userInfo) {
                    console.log('üöó Test r√©cup√©ration √©v√©nement:', eventInfo);
                    updateDetectedInfoDisplay(eventInfo);
                }
            });
            
            setTimeout(() => {
                const eventInfo = MeetwayWidget.getDetectedEventInfo();
                updateDetectedInfoDisplay(eventInfo);
            }, 100);
            
            alert('Test de r√©cup√©ration √©v√©nement lanc√© ! V√©rifiez la console et l\'affichage.');
        }
        
        // Fonction pour tester localStorage
        function testLocalStorage() {
            console.log('üß™ Test localStorage...');
            
            // Nettoyer localStorage
            localStorage.removeItem('Meetway_user_info');
            localStorage.removeItem('Meetway_event_info');
            
            // Ajouter des donn√©es de test
            const testUserData = {
                id: 'USER-LS-TEST',
                email: 'ls.test@example.com',
                name: 'Test localStorage',
                phone: '+33111111111',
                timestamp: new Date().toISOString()
            };
            
            const testEventData = {
                name: '√âv√©nement localStorage',
                date: '2024-01-01T20:00:00',
                location: 'Test Venue',
                price: '30‚Ç¨',
                id: 'EVT-LS-TEST',
                url: window.location.href,
                pageTitle: document.title,
                timestamp: new Date().toISOString()
            };
            
            localStorage.setItem('Meetway_user_info', JSON.stringify(testUserData));
            localStorage.setItem('Meetway_event_info', JSON.stringify(testEventData));
            
            console.log('üíæ Donn√©es de test ajout√©es dans localStorage');
            
            // R√©initialiser le widget
            MeetwayWidget.init({
                containerId: 'Meetway-widget-container',
                widgetTitle: 'Meetway',
                carpoolValue: 'Test localStorage...',
                onCarpoolInterest: function(isInterested, eventInfo, userInfo) {
                    console.log('üöó Test localStorage - √âv√©nement:', eventInfo);
                    console.log('üöó Test localStorage - Utilisateur:', userInfo);
                    updateDetectedInfoDisplay(eventInfo);
                    updateUserInfoDisplay(userInfo);
                }
            });
            
            setTimeout(() => {
                const eventInfo = MeetwayWidget.getDetectedEventInfo();
                const userInfo = MeetwayWidget.getUserInfo();
                updateDetectedInfoDisplay(eventInfo);
                updateUserInfoDisplay(userInfo);
            }, 100);
            
            alert('Test localStorage lanc√© ! V√©rifiez la console et l\'affichage.');
        }
        
        // Fonction pour tester les cookies
        function testCookies() {
            console.log('üß™ Test cookies...');
            
            // Nettoyer les cookies existants
            document.cookie = 'Meetway_user_id=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
            document.cookie = 'Meetway_email=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
            document.cookie = 'Meetway_name=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
            document.cookie = 'Meetway_phone=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
            document.cookie = 'Meetway_event_name=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
            document.cookie = 'Meetway_event_date=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
            document.cookie = 'Meetway_event_location=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
            document.cookie = 'Meetway_event_price=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
            document.cookie = 'Meetway_event_id=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
            
            // Ajouter des cookies de test
            document.cookie = 'Meetway_user_id=USER-COOKIE-TEST; path=/';
            document.cookie = 'Meetway_email=cookie.test@example.com; path=/';
            document.cookie = 'Meetway_name=Test Cookie; path=/';
            document.cookie = 'Meetway_phone=+33222222222; path=/';
            document.cookie = 'Meetway_event_name=√âv√©nement Cookie; path=/';
            document.cookie = 'Meetway_event_date=2024-02-14T21:00:00; path=/';
            document.cookie = 'Meetway_event_location=Venue Cookie; path=/';
            document.cookie = 'Meetway_event_price=40‚Ç¨; path=/';
            document.cookie = 'Meetway_event_id=EVT-COOKIE-TEST; path=/';
            
            console.log('üç™ Cookies de test ajout√©s');
            
            // R√©initialiser le widget
            MeetwayWidget.init({
                containerId: 'Meetway-widget-container',
                widgetTitle: 'Meetway',
                carpoolValue: 'Test cookies...',
                onCarpoolInterest: function(isInterested, eventInfo, userInfo) {
                    console.log('üöó Test cookies - √âv√©nement:', eventInfo);
                    console.log('üöó Test cookies - Utilisateur:', userInfo);
                    updateDetectedInfoDisplay(eventInfo);
                    updateUserInfoDisplay(userInfo);
                }
            });
            
            setTimeout(() => {
                const eventInfo = MeetwayWidget.getDetectedEventInfo();
                const userInfo = MeetwayWidget.getUserInfo();
                updateDetectedInfoDisplay(eventInfo);
                updateUserInfoDisplay(userInfo);
            }, 100);
            
            alert('Test cookies lanc√© ! V√©rifiez la console et l\'affichage.');
        }
    </script>
</body>
</html>
